=form_for(@task) do |f| 
  -if @task.errors.any? 
    %div{id="error_explanation"}
      %h2
        =pluralize(@task.errors.count, "error")  
        prohibited this task from being saved:

      %ul
        -@task.errors.full_messages.each do |msg| 
          %li
            = msg
    
  %div{:class =>"field"}
    = f.label :name 
    %br
    = f.text_field :name 
  
  %div{:class =>"field"}
    = f.label :start_time 
    %br
    = f.datetime_select :start_time 
  
  %div{:class =>"field"}
    = f.label :end_time 
    %br
    = f.datetime_select :end_time 
  
  %div{:class =>"field"}
    = f.label :total 
    %br
    = f.text_field :total, :readonly => true
  
  %div{:class =>"field"}
    = f.label :customer_id
    %br
    =collection_select(:task, :customer_id, Customer.all, :id, :name)
  
  %div{:class =>"field"}
    = f.label :invoiced?
    %br
    = f.check_box :invoiced

  %div{:class =>"actions"}
    = f.submit 
  
